<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Little Field by the Lake</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "PingFang SC", "Microsoft Yahei", sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at 10% 0%, #fff9f4 0%, #f6f4ff 35%, #d6ecff 75%, #b7d4ea 100%);
      color: #2d3740;
    }

    .card {
      position: relative;
      width: min(440px, 100vw - 32px);
      height: min(720px, 100vh - 32px);
      border-radius: 26px;
      background: rgba(255, 255, 255, 0.94);
      box-shadow:
        0 22px 60px rgba(123, 144, 164, 0.35),
        0 0 0 1px rgba(255, 255, 255, 0.9);
      padding: 16px 18px 18px;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(74, 86, 98, 0.76);
      margin-bottom: 12px;
    }

    .dots {
      display: flex;
      gap: 6px;
    }

    .dot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
    }

    .dot:nth-child(1) { background: #f4b9b2; }
    .dot:nth-child(2) { background: #f5df9b; }
    .dot:nth-child(3) { background: #b9e2b9; }

    .time-toggle {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 11px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: rgba(74, 86, 98, 0.82);
      cursor: pointer;
      user-select: none;
    }

    .time-pill {
      width: 40px;
      height: 20px;
      border-radius: 999px;
      background: rgba(215, 225, 236, 0.9);
      padding: 2px;
      display: flex;
      align-items: center;
    }

    .time-knob {
      width: 16px;
      height: 16px;
      border-radius: 50%;
      background: #ffffff;
      box-shadow: 0 1px 4px rgba(120, 140, 155, 0.7);
      transform: translateX(0);
      transition: transform 0.25s ease;
    }

    .card.night .time-knob {
      transform: translateX(18px);
    }

    .card-main {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .scene {
      position: relative;
      flex: 1;
      border-radius: 22px;
      overflow: hidden;
      box-shadow:
        inset 0 0 24px rgba(125, 144, 158, 0.36),
        0 14px 32px rgba(150, 173, 191, 0.42);
      margin-bottom: 14px;
      background: radial-gradient(circle at 20% 0%, #fff8ea 0%, #fbeff8 30%, #d9e9fb 70%, #a8c9e3 100%);
    }

    .card.night .scene {
      background: radial-gradient(circle at 10% -20%, #fbeeff 0%, #8a9ad5 25%, #35446e 58%, #11182b 90%);
      box-shadow:
        inset 0 0 32px rgba(17, 27, 53, 0.96),
        0 14px 32px rgba(55, 73, 98, 0.68);
    }

    /* sky */
    .sky {
      position: absolute;
      inset: 0;
    }

    .sun {
      position: absolute;
      width: 96px;
      height: 96px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 25%, #fffdf6 0%, #ffe5b9 30%, #ffd09b 55%, rgba(255, 205, 150, 0) 100%);
      top: 8%;
      left: 10%;
      box-shadow: 0 0 32px rgba(255, 206, 150, 0.8);
      opacity: 0.96;
      transition: opacity 0.35s ease, transform 0.35s ease;
    }

    .card.night .sun {
      opacity: 0;
      transform: translateY(-20px);
    }

    .moon {
      position: absolute;
      width: 64px;
      height: 64px;
      border-radius: 50%;
      top: 10%;
      right: 12%;
      background: radial-gradient(circle at 30% 25%, #ffffff 0%, #dde6ff 40%, rgba(220, 230, 255, 0) 70%);
      box-shadow: 0 0 22px rgba(223, 233, 255, 0.9);
      opacity: 0;
      transform: translateY(14px);
      transition: opacity 0.35s ease, transform 0.35s ease;
    }

    .card.night .moon {
      opacity: 1;
      transform: translateY(0);
    }

    .stars {
      position: absolute;
      inset: 0;
      background-image:
        radial-gradient(1px 1px at 10% 20%, rgba(255, 255, 255, 0.9) 0, transparent 50%),
        radial-gradient(1.2px 1.2px at 40% 35%, rgba(212, 226, 255, 0.9) 0, transparent 50%),
        radial-gradient(1px 1px at 68% 18%, rgba(255, 255, 255, 0.8) 0, transparent 50%),
        radial-gradient(1.1px 1.1px at 84% 48%, rgba(232, 240, 255, 0.9) 0, transparent 50%),
        radial-gradient(1px 1px at 30% 60%, rgba(255, 255, 255, 0.75) 0, transparent 50%);
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
    }

    .card.night .stars {
      opacity: 0.9;
    }

    /* hills and ground */
    .hills {
      position: absolute;
      left: -8%;
      right: -8%;
      bottom: 34%;
      height: 36%;
      background:
        radial-gradient(circle at 10% 100%, #bfdcb0 0%, #99c595 32%, transparent 60%),
        radial-gradient(circle at 52% 100%, #b4d7a7 0%, #81b18e 35%, transparent 65%),
        radial-gradient(circle at 92% 100%, #c7dfb7 0%, #93ba96 32%, transparent 60%);
      opacity: 0.95;
      transition: filter 0.35s ease;
    }

    .card.night .hills {
      filter: brightness(0.8) saturate(0.9);
    }

    .ground {
      position: absolute;
      left: -8%;
      right: -8%;
      bottom: 22%;
      height: 26%;
      background: linear-gradient(to bottom, #c7e5b5 0%, #9ccb8c 40%, #7ea86d 70%, #607e52 100%);
      border-radius: 50% 50% 0 0 / 100% 100% 0 0;
      box-shadow: 0 -4px 18px rgba(134, 163, 122, 0.7);
    }

    .card.night .ground {
      background: linear-gradient(to bottom, #9fbe8f 0%, #73956b 40%, #506c4c 70%, #364937 100%);
    }

    /* path */
    .path {
      position: absolute;
      width: 120px;
      height: 120px;
      background: radial-gradient(circle at 50% 0%, #f4e3cd 0%, #e1c6a3 40%, #c9ac88 75%, rgba(201, 172, 136, 0) 100%);
      bottom: 20%;
      left: 16%;
      transform: rotate(8deg);
      border-radius: 60% 60% 45% 40%;
      opacity: 0.95;
    }

    .card.night .path {
      filter: brightness(0.9);
    }

    /* lake */
    .lake {
      position: absolute;
      left: 30%;
      right: -8%;
      bottom: -4%;
      height: 40%;
      background: radial-gradient(circle at 40% 0%, #eef8ff 0%, #c7e4ff 40%, #8cc3e1 70%, #5d95c4 100%);
      border-radius: 50% 50% 0 0 / 80% 80% 0 0;
      box-shadow:
        0 -4px 18px rgba(143, 180, 202, 0.7),
        0 10px 26px rgba(90, 123, 148, 0.6);
      overflow: hidden;
    }

    .card.night .lake {
      background: radial-gradient(circle at 40% 0%, #e7f5ff 0%, #adc9eb 35%, #567ea8 70%, #32506f 100%);
    }

    .lake-shine {
      position: absolute;
      left: 10%;
      right: 8%;
      top: 18%;
      height: 40%;
      background-image:
        radial-gradient(circle at 20% 0%, rgba(255, 255, 255, 0.9) 0, transparent 60%),
        radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.7) 0, transparent 65%);
      opacity: 0.85;
      mix-blend-mode: screen;
    }

    .wave {
      position: absolute;
      width: 46%;
      height: 38%;
      left: 32%;
      top: 36%;
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.7);
      opacity: 0.75;
      animation: ripple 7s ease-out infinite;
    }

    .wave:nth-child(3) {
      animation-delay: 2.3s;
      transform: scale(0.8);
      opacity: 0.65;
    }

    .wave:nth-child(4) {
      animation-delay: 4.6s;
      transform: scale(0.6);
      opacity: 0.6;
    }

    @keyframes ripple {
      0% {
        transform: scale(0.7);
        opacity: 0.7;
      }
      100% {
        transform: scale(1.3);
        opacity: 0;
      }
    }

    /* cabin */
    .cabin {
      position: absolute;
      bottom: 26%;
      left: 57%;
      width: 70px;
      height: 54px;
      cursor: pointer;
    }

    .cabin-body {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 60%;
      border-radius: 6px;
      background: linear-gradient(to right, #d5a789, #c48b65);
      box-shadow: 0 8px 12px rgba(120, 91, 66, 0.6);
    }

    .card.night .cabin-body {
      background: linear-gradient(to right, #b28668, #a16d4c);
    }

    .cabin-roof {
      position: absolute;
      bottom: 40%;
      left: -6px;
      right: -6px;
      height: 18px;
      background: linear-gradient(to right, #7c5340, #664233);
      border-radius: 8px 8px 4px 4px;
      box-shadow: 0 6px 10px rgba(73, 50, 39, 0.7);
    }

    .cabin-door {
      position: absolute;
      bottom: 0;
      left: 10px;
      width: 18px;
      height: 26px;
      border-radius: 4px 4px 0 0;
      background: linear-gradient(to bottom, #f3e0c4, #d7b994);
    }

    .window {
      position: absolute;
      bottom: 12px;
      right: 10px;
      width: 18px;
      height: 16px;
      border-radius: 4px;
      background: #f8f1e3;
      box-shadow: inset 0 0 0 2px rgba(130, 97, 73, 0.7);
      transition: background 0.35s ease, box-shadow 0.35s ease;
    }

    .card.night .window {
      background: #ffe7aa;
      box-shadow:
        inset 0 0 0 2px rgba(133, 96, 71, 0.9),
        0 0 12px rgba(255, 221, 145, 0.85);
    }

    /* tree */
    .tree {
      position: absolute;
      bottom: 26%;
      left: 45%;
      width: 22px;
      height: 80px;
    }

    .trunk {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 30px;
      border-radius: 999px;
      background: linear-gradient(to bottom, #79573a, #4f3828);
    }

    .crown {
      position: absolute;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      width: 52px;
      height: 44px;
      border-radius: 50px 50px 38px 38px;
      background: radial-gradient(circle at 30% 20%, #ffffff 0%, #cfe7c6 30%, #93bf9d 70%, #6f9475 100%);
      box-shadow: 0 6px 12px rgba(82, 115, 88, 0.6);
    }

    .card.night .crown {
      background: radial-gradient(circle at 30% 20%, #f5f8f3 0%, #aecaa3 30%, #6c9473 70%, #496653 100%);
    }

    /* bench */
    .bench {
      position: absolute;
      bottom: 24%;
      left: 20%;
      width: 54px;
      height: 30px;
      cursor: pointer;
    }

    .bench-seat {
      position: absolute;
      bottom: 10px;
      left: 0;
      right: 0;
      height: 10px;
      border-radius: 10px;
      background: linear-gradient(to right, #f2dec3, #ddc2a1);
      box-shadow: 0 4px 8px rgba(132, 110, 83, 0.6);
    }

    .bench-back {
      position: absolute;
      bottom: 20px;
      left: 2px;
      right: 2px;
      height: 7px;
      border-radius: 8px;
      background: linear-gradient(to right, #f6e5cc, #e4cfb0);
    }

    .bench-leg {
      position: absolute;
      bottom: 0;
      width: 4px;
      height: 10px;
      border-radius: 999px;
      background: #9b7e5c;
    }

    .bench-leg.left {
      left: 9px;
    }

    .bench-leg.right {
      right: 9px;
    }

    /* boat */
    .boat {
      position: absolute;
      bottom: 10%;
      left: 50%;
      width: 76px;
      height: 40px;
      cursor: pointer;
    }

    .boat-body {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 16px;
      border-radius: 0 0 40px 40px;
      background: linear-gradient(to top, #b7865f, #e1b58b);
      box-shadow: 0 5px 12px rgba(77, 61, 47, 0.8);
    }

    .boat-top {
      position: absolute;
      bottom: 12px;
      left: 12px;
      right: 12px;
      height: 8px;
      border-radius: 999px;
      background: rgba(255, 244, 231, 0.92);
    }

    .boat-mast {
      position: absolute;
      bottom: 16px;
      left: 36px;
      width: 3px;
      height: 16px;
      border-radius: 999px;
      background: #7d6044;
    }

    .boat-flag {
      position: absolute;
      bottom: 26px;
      left: 39px;
      width: 14px;
      height: 10px;
      border-radius: 0 8px 8px 0;
      background: linear-gradient(135deg, #ffe0cc, #ffc7b5);
      box-shadow: 0 0 6px rgba(255, 215, 191, 0.7);
    }

    .card.night .boat-flag {
      background: linear-gradient(135deg, #ffd6c5, #ffb39b);
    }

    /* fireflies */
    .fireflies {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .card.night .fireflies {
      opacity: 1;
    }

    .firefly {
      position: absolute;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(255, 244, 181, 1) 0, rgba(255, 244, 181, 0) 70%);
      opacity: 0;
      animation: blink 3.5s infinite ease-in-out;
    }

    .firefly:nth-child(1) { top: 55%; left: 22%; animation-delay: 0.4s; }
    .firefly:nth-child(2) { top: 48%; left: 40%; animation-delay: 1s; }
    .firefly:nth-child(3) { top: 60%; left: 65%; animation-delay: 1.8s; }
    .firefly:nth-child(4) { top: 50%; left: 80%; animation-delay: 2.3s; }
    .firefly:nth-child(5) { top: 62%; left: 33%; animation-delay: 3s; }

    @keyframes blink {
      0% { opacity: 0; transform: translateY(0); }
      35% { opacity: 1; transform: translateY(-3px); }
      70% { opacity: 0.2; transform: translateY(1px); }
      100% { opacity: 0; transform: translateY(0); }
    }

    /* content */
    .text-block {
      padding: 4px 4px 0;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .title-line {
      font-size: 13px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: rgba(64, 75, 88, 0.88);
    }

    .subtitle-line {
      font-size: 12px;
      color: rgba(97, 111, 126, 0.9);
      line-height: 1.7;
    }

    .subtitle-line span {
      opacity: 0.9;
    }

    .progress {
      margin-top: 6px;
      font-size: 11px;
      color: rgba(110, 125, 140, 0.98);
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .progress strong {
      font-weight: 600;
    }

    .message-box {
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 16px;
      background: rgba(248, 252, 255, 0.96);
      border: 1px solid rgba(218, 230, 241, 0.98);
      box-shadow: 0 10px 20px rgba(184, 203, 220, 0.45);
      font-size: 13px;
      line-height: 1.7;
      color: #46515b;
      min-height: 56px;
    }

    .message-label {
      font-size: 10px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: rgba(139, 157, 176, 0.98);
      margin-bottom: 4px;
    }

    .message-text {
      font-size: 13px;
    }

    .footer {
      margin-top: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      color: rgba(120, 135, 150, 0.9);
    }

    .hint-small {
      max-width: 60%;
      line-height: 1.6;
    }

    .hint-small em {
      font-style: normal;
      opacity: 0.92;
    }

    .reset-btn {
      border: none;
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 11px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      background: rgba(230, 238, 247, 0.95);
      color: #526173;
      box-shadow: 0 6px 12px rgba(178, 196, 214, 0.7);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
    }

    .reset-btn span.icon {
      font-size: 12px;
    }

    .reset-btn:active {
      transform: translateY(1px);
      box-shadow: 0 3px 7px rgba(178, 196, 214, 0.7);
    }

    .clickable:hover {
      filter: brightness(1.04);
      transform: translateY(-1px);
      transition: transform 0.15s ease, filter 0.15s ease;
    }

    @media (max-width: 420px) {
      .card {
        width: 100vw;
        height: 100vh;
        border-radius: 0;
      }
    }
  </style>
</head>
<body>
  <div class="card" id="card">
    <div class="card-header">
      <div>little field by the lake</div>
      <div class="time-toggle" id="timeToggle">
        <span id="timeLabel">day</span>
        <div class="time-pill">
          <div class="time-knob"></div>
        </div>
      </div>
    </div>

    <div class="card-main">
      <div class="scene">
        <div class="sky">
          <div class="sun"></div>
          <div class="moon"></div>
          <div class="stars"></div>
        </div>

        <div class="hills"></div>
        <div class="ground"></div>

        <div class="path"></div>

        <div class="lake">
          <div class="lake-shine"></div>
          <div class="wave"></div>
          <div class="wave"></div>
          <div class="wave"></div>
        </div>

        <div class="tree">
          <div class="trunk"></div>
          <div class="crown"></div>
        </div>

        <div class="cabin clickable" data-spot="cabin">
          <div class="cabin-roof"></div>
          <div class="cabin-body"></div>
          <div class="cabin-door"></div>
          <div class="window"></div>
        </div>

        <div class="bench clickable" data-spot="bench">
          <div class="bench-back"></div>
          <div class="bench-seat"></div>
          <div class="bench-leg left"></div>
          <div class="bench-leg right"></div>
        </div>

        <div class="boat clickable" data-spot="boat">
          <div class="boat-body"></div>
          <div class="boat-top"></div>
          <div class="boat-mast"></div>
          <div class="boat-flag"></div>
        </div>

        <div class="fireflies">
          <div class="firefly"></div>
          <div class="firefly"></div>
          <div class="firefly"></div>
          <div class="firefly"></div>
          <div class="firefly"></div>
        </div>
      </div>

      <div class="text-block">
        <div class="title-line">a tiny wander game</div>
        <div class="subtitle-line">
          <span>There are a few quiet wishes hidden in this little place.</span><br />
          Tap the <em>cabin</em>, the <em>bench</em>, or the <em>boat</em> whenever you like.
        </div>

        <div class="progress" id="progressText">
          Found <strong>0</strong> / 3 wishes
        </div>

        <div class="message-box">
          <div class="message-label">current line</div>
          <div class="message-text" id="messageText">
            You don't have to rush through this place. It's okay to just look around.
          </div>
        </div>

        <div class="footer">
          <div class="hint-small">
            Day or night, this field is here.<br />
            If it happens to be your birthday today, then: happy birthday, quietly.
          </div>
          <button class="reset-btn" id="resetBtn">
            <span class="icon">↺</span>
            reset
          </button>
        </div>
      </div>
    </div>

    <div class="dots" style="position:absolute;left:18px;bottom:16px;opacity:0.65;">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>

  <script>
    const card = document.getElementById("card");
    const timeToggle = document.getElementById("timeToggle");
    const timeLabel = document.getElementById("timeLabel");
    const messageText = document.getElementById("messageText");
    const progressText = document.getElementById("progressText");
    const resetBtn = document.getElementById("resetBtn");
    const spots = document.querySelectorAll(".clickable");

    const wishLines = {
      bench: [
        "May you find small corners in your day where you can sit and not explain yourself to anyone.",
        "May you feel allowed to pause, even when the world around you keeps moving.",
      ],
      boat: [
        "May whatever you're quietly hoping for find a gentle way towards you.",
        "May you feel that it's okay to move slowly, and still call it progress.",
      ],
      cabin: [
        "May you always have a place—outside or inside yourself—that feels like coming home.",
        "May you remember that you don't have to be bright all the time to be seen.",
      ],
      final: [
        "You found all three. If today is your birthday: happy birthday. If not, this moment can still belong to you.",
      ],
    };

    let foundSet = new Set();

    function updateProgress() {
      const count = foundSet.size;
      progressText.innerHTML = `Found <strong>${count}</strong> / 3 wishes`;
    }

    function setMessage(text) {
      messageText.textContent = text;
    }

    function handleSpotClick(spotName) {
      if (!wishLines[spotName]) return;
      const lines = wishLines[spotName];
      const line =
        lines[Math.floor(Math.random() * lines.length)];
      setMessage(line);

      if (!foundSet.has(spotName)) {
        foundSet.add(spotName);
        updateProgress();

        if (foundSet.size === 3) {
          setTimeout(() => {
            setMessage(wishLines.final[0]);
          }, 800);
        }
      }
    }

    spots.forEach((el) => {
      el.addEventListener("click", () => {
        const spotName = el.dataset.spot;
        handleSpotClick(spotName);
      });
    });

    timeToggle.addEventListener("click", () => {
      const isNight = card.classList.toggle("night");
      timeLabel.textContent = isNight ? "night" : "day";
    });

    resetBtn.addEventListener("click", () => {
      foundSet = new Set();
      updateProgress();
      setMessage(
        "You don't have to rush through this place. It's okay to just look around."
      );
    });

    // 初始状态
    updateProgress();
  </script>
</body>
</html>
